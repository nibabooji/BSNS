<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
    <sqlMap namespace="Board">
    
    <typeAlias alias="board" type="org.bsns.server.domain.BoardVO"/>
    <typeAlias alias="condition" type="org.bsns.server.common.Condition"/>
    
    <resultMap class="board" id="boardResult">
    	<result property="number" 	column="BOARD_NO"/>
    	<result property="type"		column="BOARD_TYPE_NO"/>
    	<result property="email"	column="EMAIL"/>
    	<result property="content"	column="CONTENT"/>
    	<result property="date"		column="WRITE_DATE"/>
    </resultMap>
    
    <insert id="create" parameterClass="board">
    	<selectKey keyProperty="number" resultClass="Integer">
                SELECT SEQ_BOARD.NEXTVAL BOARD_NO FROM DUAL
            </selectKey>
            INSERT INTO TB_BOARD(BOARD_NO, BOARD_TYPE_NO, EMAIL, CONTENT, WRITE_DATE)
            VALUES (#number#, #type#, #email#, #content#, SYSDATE)
    </insert>
    
    <select id="read" parameterClass="condition" resultMap="boardResult">
    	SELECT BOARD_NO, BOARD_TYPE_NO, EMAIL, CONTENT, WRITE_DATE
    	FROM TB_BOARD
    	WHERE BOARD_NO = #number#
    </select>
    
    <select id="list" parameterClass="condition">

    </select>
    
    <update id="update" parameterClass="board">
    	UPDATE TB_BOARD
    	SET CONTENT = #content#,
    		WRITE_DATE = SYSDATE
    	WHERE BOARD_NO = #number#
    </update>
    
    <delete id="delete" parameterClass="condition">
    	DELETE FROM TB_BOARD
    	WHERE BOARD_NO = #number#
    </delete>
    
    </sqlMap>